!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.shallowChanges=n()}(this,function(){function e(e,n){return e===n||e!==e&&n!==n}function n(e){return void 0!==e}function r(e){return"object"==typeof e&&null!==e}function t(e,n){var r=[];if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)n(e[t],t)&&r.push(t);else for(var o=Object.keys(e),u=o.length-1;u>=0;u--){var f=o[u];n(e[f],f)&&r.push(f)}return r}function o(o,u,f){void 0===f&&(f={});var i=f.is;void 0===i&&(i=e);var a=f.isDefined;void 0===a&&(a=n);var d=[],s=[],l=[],h=[];if(!r(o)||!r(u))return!1;if(!i(o,u)){var v=t(o,a),p=t(u,a);if(v.length)if(p.length){for(var c=v.length-1;c>=0;c--){var y=v[c];a(u[y],y)?i(o[y],u[y])?l.push(y):h.push(y):s.push(y)}for(var g=p.length-1;g>=0;g--){var b=p[g];o.hasOwnProperty(b)||d.push(b)}}else s=v;else d=p}return{added:d,deleted:s,equal:l,updated:h}}return o});
